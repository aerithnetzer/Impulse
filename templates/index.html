{% extends "base.html" %}
{% block content %}
{% with messages = get_flashed_messages() %}
{% if messages %}
<div class="alert alert-warning" role="alert">
  {{ messages[0] }}
</div>
{% endif %}
{% endwith %}
<form action="{{ url_for('upload') }}" method="post" enctype="multipart/form-data">
  <div class="mb-3">
    <label for="barcode" class="form-label" style="color: white;">Barcode (optional)</label>
    <input class="form-control" type="text" id="barcode" name="barcode" placeholder="e.g. 1234567890">
    <div class="form-text">Used to group documents for easier tracking.</div>
  </div>
  <div id="dropzone" class="dropzone mb-3">
    <p class="mb-1">Drag & drop images here</p>
    <small>Allowed: jp2, jpg, jpeg, png, tif, tiff</small>
    <div class="mt-3">
      <input class="form-control" type="file" id="images" name="images" multiple
        accept=".jp2,.jpg,.jpeg,.png,.tif,.tiff,image/*">
    </div>
    <div id="fileList" class="mt-2 small"></div>
  </div>
  <div class="d-grid">
    <button type="submit" class="btn btn-gradient btn-lg">Start OCR Workflow</button>
  </div>
</form>
{% endblock %}
